# Type Hints (484) & Annotations (585)

## PEP 484 - Type Hints

### Overview

PEP 484 introduced a standardized system for adding *type hints* to Python code.
Its goal was **not** to enforce static typing at runtime but to establish a formal syntax for *optional* type checking via external tools like `mypy`, `pytype` and later `Pyright`[^pep-484].
This marked a pivotal moment for Python’s type ecosystem — bridging the gap between dynamic and statically analyzable Python.
It defined the foundations of the `typing` module and introduced the concept of *gradual typing*, where type hints coexist with dynamic typing[^pep-484].

### Concepts

#### Gradual Typing

Type annotations are optional, enabling progressive adoption without breaking existing code.

#### Type System Syntax

Function signatures, variables, and class members can be annotated using syntax like `def greet(name: str) -> str:`[^pep-484].

#### `typing` module

Adds classes like `List`, `Dict`, `Tuple`, `Optional`, `Union`, `Any`, `Callable`[^pep-484].

#### Type Checkers

External tools (e.g., `mypy`) use these annotations for static analysis, error detection, and IDE autocompletion.

#### Runtime Neutrality

Annotations are stored in `__annotations__` and ignored by Python itself; type enforcement is delegated to external tools[^pep-484].

### Motivation

Before PEP 484, large Python projects (e.g., Dropbox, Google) developed internal type systems to manage complexity.
PEP 484 unified these under a common specification inspired by `mypy` and by research in gradual typing[^pep-484].

### Impact

- Established a shared foundation for static analysis across the ecosystem.
- Enabled downstream standards like PEP 561 (distributable type stubs), PEP 563 (deferred evaluation of annotations), and PEP 604/649 (modernized syntax and semantics).

## PEP 585 - Type Hinting Generics in Standard Collections

### Overview

PEP 585 streamlined the use of generics by allowing the *built-in collection types* (e.g., `list`, `dict`, `set`) to be used directly as generic types, replacing `typing.List`, `typing.Dict`, etc[^pep-585].
For example, code such as:

```python
from typing import List
def f(x: List[int]) -> None: ...
```

can now be written as:

```python
def f(x: list[int]) -> None: ...
```

### Motivation

PEP 484’s design relied on importing type aliases from the `typing` module. This indirection created redundancy, confusion, and runtime overhead.
By 2020, with `from __future__ import annotations` and runtime type information improvements, it became viable to use built-ins directly[^pep-585].

### Core Changes

- Built-in classes (`list`, `dict`, `tuple`, `set`, etc.) now support subscripting (`[]`) at runtime.
- A new `types.GenericAlias` class is introduced internally to represent these parameterized generics[^pep-585].
- Backwards compatibility preserved — `typing.List` and others remain but are considered deprecated[^typing].
- Simplified syntax aligns Python with other typed languages’ ergonomics.

### Impact

1. Improved readability and ergonomics: Encourages `list[int]` over `List[int]`.
2. Reduces the mental split between runtime and static type worlds.
3. Opens the door for the removal of redundant wrappers in future releases.

## Summary

Together, PEP 484 and PEP 585 represent Python’s maturing type system:

- PEP 484 built the scaffolding by defining syntax, semantics, and conventions.
- PEP 585 modernized it by integrating type information natively into Python’s core language model.
  This reflects a shift from **externalized static typing** toward **first-class optional typing**.
  It preserves Python’s philosophy of flexibility while offering stronger correctness guarantees for large-scale codebases.

[^pep-484]: <https://peps.python.org/pep-0484/> "PEP 484 – Type Hints | peps.python.org"
[^pep-585]: <https://peps.python.org/pep-0585/> "PEP 585 – Type Hinting Generics In Standard Collections"
[^typing]: <https://docs.python.org/3/library/typing.html> "typing — Support for type hints — Python 3.13.5 documentation"
