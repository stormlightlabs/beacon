{
  "name": "beacon-lsp",
  "description": "Beacon Language Server - Hindley-Milner type inference for Python",
  "author": "Stormlight",
  "license": "MIT",
  "version": "0.1.0",
  "repository": { "type": "git", "url": "https://github.com/stormlightlabs/beacon" },
  "publisher": "stormlight",
  "categories": ["Programming Languages", "Linters"],
  "keywords": ["python", "type-inference", "lsp"],
  "engines": { "vscode": "^1.100.0" },
  "activationEvents": ["onLanguage:python"],
  "main": "./client/out/extension",
  "contributes": {
    "configuration": {
      "type": "object",
      "title": "Beacon LSP Configuration",
      "properties": {
        "beacon.trace.server": {
          "scope": "window",
          "type": "string",
          "enum": ["off", "messages", "verbose"],
          "default": "off",
          "description": "Traces the communication between VS Code and the Beacon language server."
        },
        "beacon.typeChecking.mode": {
          "scope": "resource",
          "type": "string",
          "enum": ["strict", "balanced", "loose"],
          "default": "balanced",
          "enumDescriptions": [
            "Annotation mismatches are hard errors with strict enforcement",
            "Annotation mismatches are diagnostics with quick fixes, but inference proceeds (default)",
            "Annotations supply bounds but can be overridden by inference, very lenient"
          ],
          "description": "Type checking strictness mode. Controls how the type checker handles annotation mismatches and inference."
        },
        "beacon.inlayHints.enable": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable inlay hints for type information."
        },
        "beacon.inlayHints.variableTypes": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Show inlay hints for inferred variable types."
        },
        "beacon.inlayHints.functionReturnTypes": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Show inlay hints for inferred function return types."
        },
        "beacon.inlayHints.parameterNames": {
          "scope": "resource",
          "type": "boolean",
          "default": false,
          "description": "Show inlay hints for parameter names in function calls."
        },
        "beacon.python.version": {
          "scope": "resource",
          "type": "string",
          "enum": ["3.9", "3.10", "3.11", "3.12", "3.13"],
          "default": "3.12",
          "description": "Target Python version for feature support (e.g., pattern matching in 3.10+, PEP 695 syntax in 3.12+)."
        },
        "beacon.python.interpreterPath": {
          "scope": "resource",
          "type": "string",
          "default": "",
          "description": "Path to Python interpreter for runtime introspection. Leave empty to auto-detect."
        },
        "beacon.python.stubPaths": {
          "scope": "resource",
          "type": "array",
          "items": { "type": "string" },
          "default": ["stubs"],
          "description": "Additional paths to search for .pyi stub files. Paths can be absolute or relative to the workspace root."
        },
        "beacon.workspace.sourceRoots": {
          "scope": "resource",
          "type": "array",
          "items": { "type": "string" },
          "default": [],
          "description": "Source roots for module resolution (in addition to workspace root). Auto-detected roots include workspace root, src/, and lib/."
        },
        "beacon.workspace.excludePatterns": {
          "scope": "resource",
          "type": "array",
          "items": { "type": "string" },
          "default": [],
          "description": "Patterns to exclude from workspace scanning. Common patterns include venv/, .venv/, __pycache__/, etc."
        },
        "beacon.diagnostics.unresolvedImports": {
          "scope": "resource",
          "type": "string",
          "enum": ["error", "warning", "info"],
          "default": "warning",
          "enumDescriptions": [
            "Show unresolved imports as errors",
            "Show unresolved imports as warnings",
            "Show unresolved imports as info messages"
          ],
          "description": "Diagnostic severity level for unresolved imports."
        },
        "beacon.diagnostics.circularImports": {
          "scope": "resource",
          "type": "string",
          "enum": ["error", "warning", "info"],
          "default": "warning",
          "enumDescriptions": [
            "Show circular imports as errors",
            "Show circular imports as warnings",
            "Show circular imports as info messages"
          ],
          "description": "Diagnostic severity level for circular imports."
        },
        "beacon.advanced.maxAnyDepth": {
          "scope": "resource",
          "type": "number",
          "default": 3,
          "minimum": 0,
          "maximum": 10,
          "description": "Maximum depth for Any type propagation before elevating diagnostics. Higher values are more permissive."
        },
        "beacon.advanced.incremental": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable incremental type checking for faster re-analysis."
        },
        "beacon.advanced.workspaceAnalysis": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable workspace-wide analysis and cross-file type checking."
        },
        "beacon.advanced.enableCaching": {
          "scope": "resource",
          "type": "boolean",
          "default": true,
          "description": "Enable caching of parse trees and type inference results."
        },
        "beacon.advanced.cacheSize": {
          "scope": "resource",
          "type": "number",
          "default": 100,
          "minimum": 0,
          "maximum": 1000,
          "description": "Maximum number of documents to cache for faster analysis."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "pnpm compile",
    "compile": "cd client && tsc -b",
    "watch": "cd client && tsc -b -w",
    "lint": "eslint"
  },
  "devDependencies": {
    "@eslint/js": "^9.38.0",
    "@stylistic/eslint-plugin": "^2.9.0",
    "@types/node": "^22",
    "dprint": "^0.50.2",
    "eslint": "^9.38.0",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.46.2"
  }
}
